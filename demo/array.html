<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- <input type="password" name="title" /> -->
    <img class="viewImg" src="./1.jpg" alt="">
  <span></span>
  <!-- <button message="后盾人">houdunren</button> -->
</body>
<script>
    // const array = [1, 2, 3, 4]
    // console.log(typeof array);
    // let hd = array
    // hd[1] = 'hello';
    // const hd = [1,2,3,4];
    // console.log(hd);
    // console.table(hd)
    // let array = [1, 2, 3, 4, ['hello'],]
    // let array = Array.of(1,2,3)
    // console.log(array);
    
    // let arr = ['hello', 'niho'];
    // let hd = ['js', 'css'];
    // for (const value of hd) {
    //     arr.push(value)
    // }
    // arr = [...arr, ...hd]
    // console.log(arr);
    // function sum (...args) {
    //     console.log(args);
    //     return args.reduce((s,v) => {
    //         return (s += v)
    //     } ,0)
    // }
    // console.log(sum(1,2,3,45,44,55));

//     let input = document.querySelector("[name='title']");
//   input.addEventListener("keyup", function() {
//     let length = this.value.length;
//     let msg;
//     if (length > 10) {
//       msg = "密码已经无敌了";
//     } else if (length > 6) {
//       msg = "密码安全性中级";
//     } else {
//       msg = "这密码，要完的节奏";
//     }
//     document.querySelector("span").innerHTML = msg;
//   });

//   for (let i = 10; i > 0; i--) {
//     for (let n = 0; n < i; n++) {
//         document.write('*');
//     }
//     document.write("<br/>");
// }
// function hd(row = 5) {
//   let start = 0;
//   do {
//     let n = 0;
//     do {
//       document.write("*");
//     } while (++n <= start);
//     document.write("<br/>");
//   } while (++start <= row);
// }
// hd();
// 鼠标在元素上移进移出事件
// 获取到所有图片
// let imags = document.querySelectorAll(".viewImg");
// // 循环添加鼠标事件
// imags.forEach((item) => {
//   // 鼠标移动进来
//   item.addEventListener("mouseover", function() {
//     console.log("进来");
//   });
//   // 鼠标移动出去
//   item.addEventListener("mouseout", function() {
//     console.log("出来");
//   });
// });
// const getDaysDiffBetweenDates = (dateInitial, dateFinal) =>
//   (dateFinal - dateInitial) / (1000 * 3600 * 24);

// Example
// getDaysDiffBetweenDates(new Date("2021-12-13"), new Date("2021-12-22")); // 9
// console.log(getDaysDiffBetweenDates(new Date("2021-12-13"), new Date("2021-12-22")));

// 手机号隐藏中间
// let phone = "98765432101";
// console.log(phone.slice(0, 5) + "*".repeat(3));
// phone = phone.substring(0, 3) + '****' + phone.substr(phone.length - 4);
// console.log(phone);

// 取数组中最大值
// function arrayMax(array) {
//   let max = array[0];
//   for (const elem of array) {
//     max = max > elem ? max : elem;
//   }
//   return max;
// }

// console.log(arrayMax([1, 3, 2, 9])); // 9

// 过滤数据中的元素
{
    let lessons = [
  {title: '媒体查询响应式布局',category: 'css'},
  {title: 'FLEX 弹性盒模型',category: 'css'},
  {title: 'MYSQL多表查询随意操作',category: 'mysql'}
];

let cssLessons = lessons.filter(function (item, index, array) {
  if (item.category.toLowerCase() == 'css') {
    return true;
  }
});

console.log(cssLessons);
}
// 取数组中最大的值
{
    function arrayMax(array) {
        return array.reduce(
  	(max, elem) => (max > elem ? max : elem), array[0]
  );
}

console.log(arrayMax([1, 3, 2, 9]));
}
// 取价最高的商品
{
    let goods = [
  { name: "iphone", price: 12000 },
  { name: "imac", price: 25000 },
  { name: "ipad", price: 3600 }
];

function getNameByPrice(array, price) {
  return array.reduce((goods, elem) => {
    if (elem.price > price) {
      goods.push(elem);
    }
    return goods;
  }, []).map(elem => elem.name);
}
console.table(getNameByPrice(goods, 10000));
}
{
    let hd = Symbol.for("nihaoy");
    let edu = Symbol.for("nihaoy");
    console.log(hd == edu); //true
}
let hd = Symbol("nihaoy");
console.log(hd.description); //后盾
// for (const key in object) {
//     if (Object.hasOwnProperty.call(object, key)) {
//         const element = object[key];
        
//     }
// }
// array.forEach(element => {
    
// });
// for (let index = 0; index < array.length; index++) {
//     const element = array[index];
    
// }
// 使用for/of
// for (const iterator of object) {
    
// }
{//使用for/of遍历
let set = new Set([7, 6, 2, 8, 2, 6]);

for (const iterator of set) {
	console.log(iterator);
}
}
{let arr = [7, 6, 2, 8, 2, 6];
let set = new Set(arr);
//使用forEach遍历
set.forEach((item,key) => console.log(item,key,22));
}

// {
//   let hd = function(num) {
//   return ++num;
// };

// console.log(hd instanceof Object); //true

// let cms = hd;
// console.log(cms(3));
// }
// {
//   console.log(hd(3)); //4
// function hd(num) {
//   return ++num;
// }
// }

{
  function filterFun(item) {
	return item <= 3
}
let hd = [1, 2, 3, 4, 5].filter(filterFun);
console.log(hd); //[1,2,3]
}

{
  let hd = [1,2, 8, 3, 5].filter(item => item <= 3);
  console.log(hd);
}

// 函数返回值直接解构到变量
{
  function hd() {
  return {
    name: 'nihaoya',
    url: 'houdunren.com'
  };
}
let {name: n,url: u} = hd();
console.log(n);
}

{
  function user(name, { sex, age } = {}) {
  console.log(name, sex, age); 
}
user("nihaoya", { sex: "男", age: 18 });
}


{
let arr = [];
for (let i = 0; i < 10; i++) {
	arr.push((() => i));
}
console.log(arr[3]()); //3 如果使用var声明将是10
}
{
  let btns = document.querySelectorAll("buttonnn");
  btns.forEach(function(item) {
    let bind = false;
    item.addEventListener("click", function() {
      if (!bind) {
        let left = 1;
        bind = setInterval(function() {
          item.style.left = left++ + "px";
        }, 1000);
      }
    });
  });
}
{
//   var foo = function(...args) {
// // 要求实现函数体
// }
function foo(...args) {
const target = (...arg1s) => foo(...[...args, ...arg1s])
target.getValue = () => args.reduce((p, n) => p+ n, 0)
return target
}
var f1 = foo(1,2,3);
console.log(f1.getValue())
f1.getValue(); // 6 输出是参数的和
var f2 = foo(1)(2,3);
f2.getValue(); // 6
console.log(f2.getValue())
var f3 = foo(1)(2)(3)(4);
console.log(f3.getValue())
f3.getValue(); // 10
}
// 
{
  Function.prototype.apply = function (context, arr) {
    context = context ? Object(context) : window; 
    context.fn = this;
  
    let result;
    if (!arr) {
        result = context.fn();
    } else {
        result = context.fn(...arr);
    }
      
    delete context.fn
    return result;
}
}

// 防抖
{
  function debounce(fn, delay) {
  let timer
  return function (...args) {
    if (timer) {
      clearTimeout(timer)
    }
    timer = setTimeout(() => {
      fn.apply(this, args)
    }, delay)
  }
}

// 测试
const task = () => {
  console.log('run task')
}
const debounceTask = debounce(task, 1000)
window.addEventListener('scroll', debounceTask)
}
// 节流
{
  function throttle(fn, delay) {
  let last = 0 // 上次触发时间
  return (...args) => {
    const now = Date.now()
    if (now - last > delay) {
      last = now
      fn.apply(this, args)
    }
  }
}
// 测试
const task = () => {
  console.log('run task')
}
const throttleTask = throttle(task, 1000)
window.addEventListener('scroll', throttleTask)
}
</script>
<style>
button {
      position: absolute;
    }
</style>
</html>